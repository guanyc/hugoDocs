{{$classes_box := "border border-solid b--dark-gray bg-light-gray rounded-lg flex flex-column flex-wrap items-center justify-center px-3 py-4 mb4 w-full w-30-l "}}
{{$gtag := .gtag | default "unknown" }}
{{ with .cx.Site.Data.sponsors }}
  <section class="{{ $.classes_section | default "bg-steel-900 b--dark-gray border-b border-solid border-t border-solid px-5 py-4 w-full"}}">
    <div class="mx-auto max-w-6xl">Â 
      <h3 class="font-bold text-2xl my-0 text-gray-200">Hugo Sponsors</h3>
      <div class="flex-ns flex-wrap mx-auto justify-between pt-3">
        {{ range .banners }}
          {{ $banner := . }}
          {{if .logo}}
            <div class="{{$classes_box}} o-100"{{ with .bgcolor }} style="background-color: {{ . }};"{{ end}}>
              {{with .link -}}
                {{ $url := printf "%s?%s" . (querify "utm_source" "homepage" "utm_medium" "banner" "utm_campaign" "hugosponsor") | safeURL }}
                {{ if eq (getenv "HUGO_ENV") "production" | or (eq $.cx.Site.Params.env "production")  }}
                   {{ $gtagID := printf "Sponsor %s %s" $banner.name $gtag | title }}
                   <a href="{{ $url }}" onclick="trackOutboundLink({{ printf "'%s', '%s'" $gtagID $url | safeJS }});" class="grow">
                {{ else }}
                   <a href="{{ $url }}" class="grow">
                {{ end }}
              {{- end}}
              <img src="{{ .logo }}" alt="Logo for {{ .name }}" class="img h-16 mx-auto" />
              {{with .link}}</a>{{end}}
              {{with .copy}}
                <p class="mx-auto leading-normal text-gray-600 mv1 text-center {{$.classes_copy | default "text-base w-70-ns"}}">
                  {{- . -}}
                </p>
              {{end}}
            </div>
          {{else}}
            <div class="{{$classes_box}} o-10">
              <p class="font-bold text-black text-center">Your Logo Here</p>
            </div>
          {{end}}
        {{end}}
      </div>
    </div>
  </section>
{{end}}
